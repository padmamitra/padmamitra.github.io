<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作品集 - PDF浏览</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 1. 核心：让预览区占满屏幕高度，去掉冗余空间 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box; /* 确保padding不挤压内容 */
        }

        /* 顶部介绍区 */
        .portfolio-top {
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* 2. 桌面端两栏布局：列表左（固定宽度），预览右（占满剩余空间） */
        .portfolio-box {
            display: flex;
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto 30px;
            padding: 0 20px;
            min-height: 85vh; /* 预览区最小高度=屏幕85%，足够大 */
        }

        /* 文档列表：固定宽度，不挤压预览区 */
        .doc-list {
            flex: 0 0 300px; /* 列表固定300px宽 */
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            overflow-y: auto; /* 内容多了可滚动 */
            max-height: 85vh; /* 和预览区高度对齐 */
        }

        .doc-item {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .doc-item:hover, .doc-item.active {
            color: #3498db;
            font-weight: 500;
        }

        /* 3. PDF预览区：占满剩余空间，预览框填充满 */
        .pdf-box {
            flex: 1; /* 占满剩余宽度 */
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column; /* 让预览框占满高度 */
        }

        /* PDF预览核心：用iframe，填充满父容器 */
        #pdf-view {
            flex: 1; /* 占满预览区剩余高度 */
            width: 100%;
            border: 1px solid #eee;
            border-radius: 4px;
        }

        /* 移动端适配：两栏变上下，避免挤在一起 */
        @media (max-width: 900px) {
            .portfolio-box {
                flex-direction: column; /* 上下排列 */
                min-height: auto; /* 取消固定高度 */
            }

            .doc-list {
                flex: none;
                width: 100%;
                max-height: 200px; /* 列表高度限制，不遮挡预览 */
            }

            .pdf-box {
                min-height: 60vh; /* 移动端预览区高度 */
            }
        }
    </style>
</head>
<body>
    <!-- 头部导航（保持原样） -->
    <header>
        <h1>Padmamitra的博客</h1>
    </header>
    
    <nav>
        <a href="index.html">首页</a>
        <a href="articles.html">文集</a>
        <a href="portfolio.html">作品集</a>
        <a href="about.html">关于</a>
    </nav>
    
    <main>
        <!-- 顶部介绍 -->
        <div class="portfolio-top">
            <h2>我的作品集</h2>
            <p>点击左侧文档，右侧预览PDF（手机上点击后在下方预览）</p>
        </div>

        <!-- 核心：两栏布局（列表+预览） -->
        <div class="portfolio-box">
            <!-- 文档列表 -->
            <div class="doc-list">
                <h3>文档列表</h3>
                <div class="doc-item" data-pdf="1.pdf">英文学术论文</div>
                <div class="doc-item" data-pdf="2.pdf">英文医学期刊</div>
                <div class="doc-item" data-pdf="3.pdf">招生画册</div>
                <div class="doc-item" data-pdf="5.pdf">明星应援画册</div>
                <div class="doc-item" data-pdf="6.pdf">八大菩萨传</div>
                <div class="doc-item" data-pdf="7.pdf">中学课程教案</div>
            </div>

            <!-- PDF预览区：用iframe实现 -->
            <div class="pdf-box">
                <h3>文档预览</h3>
                <!-- 初始显示提示，点击列表后替换为PDF -->
                <div id="pdf-view" style="display: flex; justify-content: center; align-items: center; color: #666;">
                    请从左侧选择一个文档
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="footer-content">
            <p>&copy; 2025 我的博客. 保留所有权利.</p>
        </div>
    </footer>

    <!-- 简单JS：点击切换PDF -->
    <script>
        // 给所有文档项加点击事件
        document.querySelectorAll('.doc-item').forEach(item => {
            item.addEventListener('click', function() {
                // 1. 切换选中状态
                document.querySelectorAll('.doc-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                // 2. 获取PDF路径
                const pdfPath = this.getAttribute('data-pdf');

                // 3. 替换预览区为iframe（显示PDF）
                const pdfView = document.getElementById('pdf-view');
                pdfView.innerHTML = ''; // 清空提示
                pdfView.style.display = 'block'; // 显示iframe

                // 创建iframe，填充满容器
                const iframe = document.createElement('iframe');
                iframe.src = pdfPath; // PDF路径
                iframe.width = '100%';
                iframe.height = '100%';
                iframe.frameBorder = '0'; // 去掉边框
                iframe.scrolling = 'auto'; // 支持滚动

                // 加载失败时显示提示
                iframe.onerror = function() {
                    pdfView.innerHTML = `
                        <div style="text-align: center; padding: 20px;">
                            <p>PDF加载失败</p>
                            <button onclick="window.open('${pdfPath}', '_blank')" style="margin-top: 10px; padding: 8px 15px; background: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer;">
                                直接打开PDF
                            </button>
                        </div>
                    `;
                };

                // 把iframe加到预览区
                pdfView.appendChild(iframe);
            });
        });
    </script>
</body>
</html>